<!-- Filters Sidebar -->
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors duration-200 sticky top-6">
  
  <!-- Filters Header -->
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">
      <i class="icon-settings text-blue-600"></i>
      Bộ lọc
    </h3>
    <button
      (click)="onClearFilters()"
      class="text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 
             font-medium transition-colors duration-200"
    >
      Xóa tất cả
    </button>
  </div>
  
  <!-- Search Bar -->
  <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
      Tìm kiếm
    </label>
    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <i class="icon-search text-gray-400 text-sm"></i>
      </div>
      <input
        type="text"
        [(ngModel)]="filters.searchTerm"
        (input)="onFilterChange()"
        placeholder="Tìm tài liệu..."
        class="w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
               bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm
               placeholder-gray-500 dark:placeholder-gray-400 
               focus:ring-2 focus:ring-blue-500 focus:border-blue-500 
               transition-colors duration-200"
      />
    </div>
  </div>

  <!-- Filter Sections -->
  <div class="space-y-6">
    
    <!-- Topic Filter -->
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">
        <i class="icon-book mr-1"></i>
        Chủ đề
      </label>
      <div class="space-y-2">
        <label class="flex items-center">
          <input
            type="radio"
            [value]="null"
            [(ngModel)]="filters.selectedTopic"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Tất cả</span>
        </label>
        <label *ngFor="let topic of topics" class="flex items-center">
          <input
            type="radio"
            [value]="topic.id"
            [(ngModel)]="filters.selectedTopic"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">{{ topic.name }}</span>
        </label>
      </div>
    </div>
    
    <!-- Category Filter -->
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">
        <i class="icon-folder mr-1"></i>
        Danh mục
      </label>
      <div class="space-y-2">
        <label class="flex items-center">
          <input
            type="radio"
            [value]="null"
            [(ngModel)]="filters.selectedCategory"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Tất cả</span>
        </label>
        <label *ngFor="let category of categories" class="flex items-center">
          <input
            type="radio"
            [value]="category.id"
            [(ngModel)]="filters.selectedCategory"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">{{ category.name }}</span>
        </label>
      </div>
    </div>

    <!-- Level Filter -->
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">
        <i class="icon-trending-up mr-1"></i>
        Cấp độ
      </label>
      <div class="space-y-2">
        <label class="flex items-center">
          <input
            type="radio"
            value=""
            [(ngModel)]="filters.selectedLevel"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Tất cả</span>
        </label>
        <label class="flex items-center">
          <input
            type="radio"
            value="Beginner"
            [(ngModel)]="filters.selectedLevel"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1">
            <span class="w-2 h-2 bg-green-500 rounded-full"></span>
            Cơ bản
          </span>
        </label>
        <label class="flex items-center">
          <input
            type="radio"
            value="Intermediate"
            [(ngModel)]="filters.selectedLevel"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1">
            <span class="w-2 h-2 bg-yellow-500 rounded-full"></span>
            Trung cấp
          </span>
        </label>
        <label class="flex items-center">
          <input
            type="radio"
            value="Advanced"
            [(ngModel)]="filters.selectedLevel"
            (change)="onFilterChange()"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 
                   dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"
          />
          <span class="ml-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-1">
            <span class="w-2 h-2 bg-red-500 rounded-full"></span>
            Nâng cao
          </span>
        </label>
      </div>
    </div>

    <!-- Sort By -->
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3">
        <i class="icon-trending-up mr-1"></i>
        Sắp xếp theo
      </label>
      <select
        [(ngModel)]="filters.sortBy"
        (change)="onFilterChange()"
        class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
               bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm
               focus:ring-2 focus:ring-blue-500 focus:border-blue-500 
               transition-colors duration-200"
      >
        <option value="title">Tên tài liệu</option>
        <option value="rating">Đánh giá cao nhất</option>
        <option value="students">Lượt đọc nhiều nhất</option>
        <option value="duration">Thời gian đọc</option>
        <option value="created_at">Mới nhất</option>
      </select>
    </div>
  </div>
</div>
